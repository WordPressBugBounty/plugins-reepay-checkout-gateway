jQuery((function(e){"use strict";let o=0;var a=e("#order-status-checking"),r=e("#order-success"),t=e("#order-failed");function n(){o>=10?e(".woocommerce-order").unblock():e.ajax({type:"POST",url:WC_Reepay_Thankyou.ajax_url,data:{action:"reepay_order_descriptions",order_id:WC_Reepay_Thankyou.order_id,order_key:WC_Reepay_Thankyou.order_key},success:function(t){t.success?(e(".woocommerce-order").unblock(),a.hide(),r.show(),r.find("#reepay-order-details").html(t.data)):(o++,setTimeout(n,2e3))},error:function(){o++,setTimeout(n,2e3)}})}window.wc_reepay_thankyou={xhr:!1,attempts:0,init:function(){this.checkPayment((function(e,o){switch(o.state){case"paid":setTimeout((function(){n()}),4e3);break;case"reload":setTimeout((function(){location.reload()}),2e3);break;case"failed":case"aborted":a.hide(),t.append('<p class="transaction-error">'+o.message+"</p>"),t.show();break;default:if(window.wc_reepay_thankyou.attempts++,window.wc_reepay_thankyou.attempts>6)return;setTimeout((function(){window.wc_reepay_thankyou.init()}),1e4)}}))},checkPayment:function(o){return e(".woocommerce-order").block({message:WC_Reepay_Thankyou.check_message,overlayCSS:{background:"#fff",opacity:.6}}),e.ajax({type:"POST",url:WC_Reepay_Thankyou.ajax_url,data:{action:"reepay_check_payment",nonce:WC_Reepay_Thankyou.nonce,order_id:WC_Reepay_Thankyou.order_id,order_key:WC_Reepay_Thankyou.order_key},dataType:"json"}).always((function(){})).done((function(e){o(null,e.data)}))}},e(document).ready((function(){e(".woocommerce-order--thankyou").length&&window.wc_reepay_thankyou.init()}))}));